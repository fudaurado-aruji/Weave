# 実装計画: 08_floating_toolbar_and_styling

## 1. 概要
MiroやCanvaのように、オブジェクトを選択した際にその直上に現れる「フローティングツールバー（ミニツールバー）」を実装する。これにより、キャンバス上での作業を中断することなく、直感的に色や形、テキストのスタイルを変更できる体験を提供する。

## 2. 実装ステップ
- [ ] **Step 1: フローティング位置計算ロジック**:
    - オブジェクトの3D座標（ワールド座標）から、HTMLオーバーレイ上のスクリーン座標を取得するロジックを実装。
    - 選択オブジェクトのバウンディングボックスの上部にツールバーを配置。
- [ ] **Step 2: ツールバーコンポーネントの再構築**:
    - 現在の固定型 `ObjectToolbar` を、動的な `FloatingToolbar` へ移行。
    - オブジェクトの種類（Shape, Text, Sticky）に応じて表示項目を切り替える。
- [ ] **Step 3: スタイリングUIの実装**:
    - カラーピッカー（塗り、枠線）、線の太さスライダー、線の種類選択（実線・点線・破線）の実装。
    - 不透明度（Opacity）コントロールの実装。
- [ ] **Step 4: Shape Transformer**:
    - 既存の図形を維持したまま、矩形、円形、三角形などの形状を切り替えるセレクタを追加。
- [ ] **Step 5: テキスト・アライメント**:
    - テキストの配置（左・中・右）および上下位置の制御をツールバーに統合。
- [ ] **Step 6: ナビゲーション・インタラクション**:
    - ストアに `interactionMode` ('select' | 'pan') を追加。
    - Spaceキー押下中の `pan` モード切り替えとマウスカーソル制御。
    - Ctrl + Wheel/Key によるズーム制御ロジックの実装（ブラウザズームの抑制）。
- [ ] **Step 7: ズームHUD/スライダー**:
    - 画面下部に現在のズーム率を表示し、スライダーで操作できるHUDを追加。

## 3. ユーザーへの影響
- MiroやCanvaに慣れたユーザーにとって、極めて直感的で学習コストの低い操作体験が得られる。
- 画面上部の固定バーまで視線を動かす必要がなくなり、キャンバス上でのクリエイティブな「流れ」が維持される。
- オブジェクトの表現力（枠線の種類、詳細な色設定）が大幅に向上する。
